#!/usr/bin/env ruby

set1 = ['01001100', '01101000', '01010000', '01010011', '01001001', '01000011', '01101000', '01101001', '01110110', '01101001', '01110000', '01101100', '01100010', '01000111', '01101000', '01111010', '01100101', '01111001', '01101101', '01100001']

set2 = ['10010001', '01011110', '01100101', '10011010', '10000010', '11110000', '11010000', '00101101', '11111000', '11010110', '11100000', '00011011', '01101110', '11110000', '01101100', '01101010', '11001010', '11001011', '01101110', '01110010']

# Check if s1 is rotated version of s2
def eq_rotate?(s1, s2)
  # We need array#rotate.
  str_s1 = s1.split("") 
  str_s2 = s2.split("")
  1.upto(s1.size-1) {|r| return true if str_s1 == str_s2.rotate(r) }
  false
end

matches = [] 
set1.each do |s1|
  set2.each do |s2|
    matches << s1 if eq_rotate?(s1, s2)
  end
end

puts matches.collect {|x| x.to_i(2).chr }.join("")
